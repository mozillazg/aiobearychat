# -*- coding: utf-8 -*-
"""auto generated by script at {{ now }}. don't edit it."""
import attr

from aiobearychat.abc import Requester
{%- for module in api_modules %}
from aiobearychat.openapi.{{ module['module_name'] }} import {{ module['cls_name'] }}
{%- endfor %}


class OpenAPI:
    """开放 API (OpenAPI) 服务

    :param requester: 实际进行请求操作 requester
    :param token: RTM token, 目前可以通过创建 hubot 机器人获得
    :param base_url: 开放 API 的基地址
    """

    #: 开放 API 的基地址
    base_url: str = '{{ base_url }}'

    def __init__(self, requester: Requester, token: str = attr.NOTHING, *,
                 base_url: str = ''):
        #: 开放 API 的基地址
        self.base_url = base_url or self.base_url
        self._token = token
        {%- for module in api_modules %}
        #: {{ module['kind_doc'] }}
        self.{{ module['kind'] }} = {{ module['cls_name'] }}(
            requester, token=token, base_url=self.base_url
        )
        {%- endfor %}
